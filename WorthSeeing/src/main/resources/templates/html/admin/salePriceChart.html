<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">

<head th:replace="/fragments/header :: head">
<!-- ë¶€íŠ¸ìŠ¤íŠ¸ë© -->
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
	integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
	crossorigin="anonymous"></script>
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
	integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
	crossorigin="anonymous"></script>
<script
	src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
	integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
	crossorigin="anonymous"></script>
</head>

<body>
	<div>
		<th:block th:replace="/fragments/header :: TopbarFragment"></th:block>


		<div class="row justify-content-center" style="margin-top: 80px;">
			<div class="col-lg-8">

				<h2>ë¶„ê¸°ë³„ ì´ìµì°¨íŠ¸</h2>
				<form th:action="@{/admin/salePriceChart}">
					<span> ë…„ë„ : </span> <select name="startYear">
						<option th:value="2022">2022</option>
						<option th:value="2023">2023</option>
						<option th:value="2024">2024</option>
					</select>
					<button type="submit">ë³´ê¸°</button>
				</form>
				<div class="container">
					<div class="row my-2" style="">
						<div class="col-md-6">
							<div class="card">
								<div class="card-body">
									<canvas style="width: 1000px; height: 500px;" class="myChart"></canvas>
								</div>
							</div>
						</div>
					</div>
				</div>
				
				<!-- ì°¨íŠ¸ -->
				<script>
	var list1 = [[${salePriceList[0]}]];
	var list2 = [[${salePriceList[1]}]];
	var list3 = [[${salePriceList[2]}]];
	var list4 = [[${salePriceList[3]}]];
	
	console.log(list1);
	
	const mydata = [list1, list2, list3, list4];
	  const mydataHalf = [list1, list2, list3, list4];
	  // var ctx = document.getElementById("myChart");
	  var ctx = document.getElementsByClassName("myChart");

	  var mixedChart = {
	    type: 'bar',
	    labels: ['1ë¶„ê¸°', '2ë¶„ê¸°', '3ë¶„ê¸°', '4ë¶„ê¸°'],
	    datasets : [
	      {
	        label: 'ë§¤ì¶œì•¡',
	        data : mydata,
	        backgroundColor: 'rgba(256, 0, 0, 0.1)'
	      },
	      {
	        label: 'ì˜ì—…ì´ìµìœ¨',
	        data: mydataHalf,
	        backgroundColor: 'transparent',
	        borderColor: 'skyblue',
	        type: 'line'
	      }
	    ]
	    };
	    var myChart = new Chart(ctx, {
	      type: 'bar',
	      data: mixedChart,
	      options: {
	        legend: {
	          display: true
	        }
	      }
	    });  
	</script>
			</div>
		</div>
	</div>
	<a href="/admin/blockPriceChart" class="dropdown-item"><strong>ğŸ‘‰ë¸”ë¡ë³„
			ê°€ê²©ì°¨íŠ¸</strong></a>
	<th:block th:replace="/fragments/footer :: footerFragment"></th:block>
</body>
</html>